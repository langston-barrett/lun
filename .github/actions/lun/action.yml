# Usage:
#
#     - uses: langston-barrett/lun/.github/actions/lun@SHA
#

name: lun
description: Install and run lun
inputs:
  version:
    description: version (without the leading 'v')
    required: false
    default: '0.1.1'
  target:
    description: Target triple
    required: false
    default: 'x86_64-unknown-linux-gnu'
  run-flags:
    description: Flags to pass to `lun run`
    required: false
    default: "--check"
runs:
  using: composite
  steps:
  - uses: langston-barrett/lun/.github/actions/install-lun@8353692642bfc2ede22e128f0aa3a31a7359b8e6
    with:
      version: ${{ inputs.version }}
      target: ${{ inputs.target }}
  - name: lun run
    shell: bash
    run: | # zizmor: ignore[template-injection]
      lun run ${{ inputs.run-flags }}
